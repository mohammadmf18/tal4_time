<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Ø­Ø§Ø³Ø¨Ø© ÙˆÙ‚Øª Ø§Ù„Ø¹Ù…Ù„ â€“ Ù¨ Ø³Ø§Ø¹Ø§Øª</title>

<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
  --primary:#2563eb;
  --success:#16a34a;
  --danger:#dc2626;
  --bg:#f1f5f9;
  --card:#ffffff;
  --text:#1e293b;
  --muted:#64748b;
}

*{box-sizing:border-box;font-family:'Tajawal',sans-serif}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
}

.container{
  max-width:920px;
  margin:auto;
  padding:16px;
}

.card{
  background:var(--card);
  border-radius:18px;
  box-shadow:0 15px 35px rgba(0,0,0,.08);
  overflow:hidden;
}

.header{
  background:linear-gradient(135deg,var(--primary),#1e40af);
  color:#fff;
  padding:24px 20px;
  text-align:center;
}

.header h1{
  margin:0;
  font-size:24px;
}

.header p{
  margin-top:6px;
  opacity:.9;
  font-size:14px;
}

.body{
  padding:20px;
}

.section{
  margin-bottom:22px;
}

label{
  font-weight:600;
  margin-bottom:8px;
  display:block;
}

input[type=time]{
  width:100%;
  padding:14px;
  font-size:18px;
  border-radius:14px;
  border:1px solid #cbd5f5;
  text-align:center;
}

.buttons{
  display:grid;
  grid-template-columns:1fr;
  gap:12px;
}

button{
  border:none;
  border-radius:14px;
  padding:15px;
  font-size:17px;
  font-weight:700;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}

.btn-primary{background:var(--primary);color:#fff}
.btn-danger{background:var(--danger);color:#fff}

.period{
  background:#f8fafc;
  border:1px solid #e2e8f0;
  border-radius:14px;
  padding:14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}

.period.current{
  border-right:6px solid var(--success);
  background:#ecfdf5;
}

.period-info{
  font-size:15px;
  line-height:1.8;
}

.delete-btn{
  background:none;
  border:none;
  color:var(--danger);
  font-size:22px;
}

.summary{
  background:#f9fafb;
  border:1px solid #e5e7eb;
  border-radius:16px;
  padding:18px;
  text-align:center;
}

.summary .title{
  color:var(--muted);
  font-size:14px;
}

.summary .value{
  font-size:22px;
  font-weight:800;
  color:var(--primary);
  margin-top:4px;
}

.footer{
  text-align:center;
  padding:14px;
  font-size:13px;
  background:#0f172a;
  color:#fff;
}

/* ğŸ’» ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± */
@media(min-width:768px){
  .buttons{
    grid-template-columns:repeat(2,1fr);
  }

  .body{
    padding:30px;
  }

  .header h1{
    font-size:28px;
  }
}

.fix{
  direction:ltr;
  unicode-bidi:plaintext;
  font-family:monospace;
}
</style>
</head>

<body>
<div class="container">
<div class="card">

<div class="header">
<h1><i class="fa-solid fa-clock"></i> Ø­Ø§Ø³Ø¨Ø© ÙˆÙ‚Øª Ø§Ù„Ø¹Ù…Ù„</h1>
<p>Ù†Ø¸Ø§Ù… Ø«Ø§Ø¨Øª Ù¨ Ø³Ø§Ø¹Ø§Øª â€“ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø¬ÙˆØ§Ù„ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±</p>
</div>

<div class="body">

<div class="section">
<label>ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„</label>
<input type="time" id="start">
</div>

<div class="section">
<label>ÙˆÙ‚Øª Ø§Ù„Ø®Ø±ÙˆØ¬ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
<input type="time" id="end">
</div>

<div class="section buttons">
<button class="btn-primary" onclick="addPeriod()">
<i class="fa-solid fa-plus"></i> Ø¥Ø¶Ø§ÙØ© ÙØªØ±Ø©
</button>
<button class="btn-danger" onclick="resetAll()">
<i class="fa-solid fa-trash"></i> Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
</button>
</div>

<div class="section">
<h3>ÙØªØ±Ø§Øª Ø§Ù„Ø¹Ù…Ù„</h3>
<div id="periods"></div>
</div>

<div class="section summary">
<div class="title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„</div>
<div class="value" id="totalTime">0 Ø³Ø§Ø¹Ø© 0 Ø¯Ù‚ÙŠÙ‚Ø©</div>

<hr style="margin:14px 0">

<div class="title">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ø¥ÙƒÙ…Ø§Ù„ Ù¨ Ø³Ø§Ø¹Ø§Øª</div>
<div class="value" id="remainingTime">8 Ø³Ø§Ø¹Ø§Øª 0 Ø¯Ù‚ÙŠÙ‚Ø©</div>
</div>

</div>

<div class="footer">ØªØµÙ…ÙŠÙ… Ø£Ø¨Ùˆ ØªØ§Ù„Ø§ Â© 2025</div>

</div>
</div>

<script>
let periods=[];
const REQUIRED=8*60*60*1000;

function parse(t){
  const d=new Date();
  const [h,m]=t.split(":");
  d.setHours(h,m,0,0);
  return d;
}

function addPeriod(){
  const s=start.value;
  if(!s) return alert("Ø£Ø¯Ø®Ù„ ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„");
  const e=end.value;
  periods.push({start:parse(s),end:e?parse(e):null});
  start.value=""; end.value="";
  render();
}

function deletePeriod(i){
  if(confirm("Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„ÙØªØ±Ø©ØŸ")){
    periods.splice(i,1);
    render();
  }
}

function render(){
  const list=document.getElementById("periods");
  list.innerHTML="";
  const now=new Date();

  periods.forEach((p,i)=>{
    const end=p.end?p.end:now;
    const diff=end-p.start;
    const h=Math.floor(diff/3600000);
    const m=Math.floor((diff%3600000)/60000);

    list.innerHTML+=`
    <div class="period ${!p.end?'current':''}">
      <div class="period-info">
        Ù…Ù† <span class="fix">${p.start.toTimeString().slice(0,5)}</span>
        Ø¥Ù„Ù‰ <span class="fix">${p.end?p.end.toTimeString().slice(0,5):'Ø§Ù„Ø¢Ù†'}</span><br>
        Ø§Ù„Ù…Ø¯Ø©: <span class="fix">${h}</span> Ø³ <span class="fix">${m}</span> Ø¯
      </div>
      <button class="delete-btn" onclick="deletePeriod(${i})">
        <i class="fa-solid fa-trash"></i>
      </button>
    </div>`;
  });

  calculate();
}

function calculate(){
  let total=0;
  const now=new Date();
  periods.forEach(p=>total+=(p.end?p.end:now)-p.start);

  const th=Math.floor(total/3600000);
  const tm=Math.floor((total%3600000)/60000);
  totalTime.textContent=`${th} Ø³Ø§Ø¹Ø© ${tm} Ø¯Ù‚ÙŠÙ‚Ø©`;

  const rem=Math.max(0,REQUIRED-total);
  const rh=Math.floor(rem/3600000);
  const rm=Math.floor((rem%3600000)/60000);
  remainingTime.textContent=rem===0?"Ù…ÙƒØªÙ…Ù„ ğŸ‰":`${rh} Ø³Ø§Ø¹Ø© ${rm} Ø¯Ù‚ÙŠÙ‚Ø©`;
}

function resetAll(){
  if(confirm("Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØªØ±Ø§ØªØŸ")){
    periods=[];
    render();
  }
}
</script>

</body>
</html>
