<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø§Ø®ØªØ¨Ø§Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 600px;
            margin: 20px auto;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
            border: none;
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <div class="test-box">
        <h1>ğŸ”§ Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>
        
        <h3>Ø§Ù„Ø®Ø·ÙˆØ© 1: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
        <button onclick="testLogin()">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ</button>
        <button onclick="clearSession()">Ù…Ø³Ø­ Ø§Ù„Ø¬Ù„Ø³Ø©</button>
        
        <h3>Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ù„Ø³Ø©</h3>
        <div id="session-status"></div>
        
        <h3>Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„</h3>
        <button onclick="goToDashboard()">Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ù€ Dashboard</button>
        <button onclick="goToLogin()">Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        
        <h3>Console Log:</h3>
        <div id="console-log" style="background: #2d3748; color: #00ff00; padding: 10px; border-radius: 5px; font-family: monospace; min-height: 100px;"></div>
    </div>
    
    <script>
        function log(message, type = 'info') {
            const consoleDiv = document.getElementById('console-log');
            const timestamp = new Date().toLocaleTimeString('ar-SA');
            consoleDiv.innerHTML += `[${timestamp}] ${message}<br>`;
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
            console.log(message);
        }
        
        function updateStatus() {
            const statusDiv = document.getElementById('session-status');
            const isLoggedIn = sessionStorage.getItem('admin_logged_in');
            const username = sessionStorage.getItem('admin_username');
            
            if (isLoggedIn === 'true') {
                statusDiv.className = 'status success';
                statusDiv.innerHTML = `
                    âœ… <strong>Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„</strong><br>
                    Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${username || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}<br>
                    admin_logged_in: ${isLoggedIn}
                `;
                log('âœ… Ø§Ù„Ø­Ø§Ù„Ø©: Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„');
            } else {
                statusDiv.className = 'status error';
                statusDiv.innerHTML = `
                    âŒ <strong>ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„</strong><br>
                    admin_logged_in: ${isLoggedIn || 'null'}
                `;
                log('âŒ Ø§Ù„Ø­Ø§Ù„Ø©: ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„');
            }
        }
        
        function testLogin() {
            log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...');
            sessionStorage.setItem('admin_logged_in', 'true');
            sessionStorage.setItem('admin_username', 'admin');
            log('âœ… ØªÙ… ØªØ¹ÙŠÙŠÙ† Ù‚ÙŠÙ… Ø§Ù„Ø¬Ù„Ø³Ø©');
            log('   admin_logged_in = ' + sessionStorage.getItem('admin_logged_in'));
            log('   admin_username = ' + sessionStorage.getItem('admin_username'));
            updateStatus();
        }
        
        function clearSession() {
            log('ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ø¬Ù„Ø³Ø©...');
            sessionStorage.clear();
            log('âœ… ØªÙ… Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
            updateStatus();
        }
        
        function goToDashboard() {
            if (sessionStorage.getItem('admin_logged_in') === 'true') {
                log('â¡ï¸ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Dashboard...');
                window.location.href = 'admin_dashboard.html';
            } else {
                log('âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ - ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„');
                alert('âŒ ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
            }
        }
        
        function goToLogin() {
            log('â¡ï¸ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...');
            window.location.href = 'admin_login.html';
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        window.addEventListener('DOMContentLoaded', function() {
            log('ğŸ“„ ØªÙ… ØªØ­Ù…ÙŠÙ„ ØµÙØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±');
            updateStatus();
        });
        
        // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ Ø«Ø§Ù†ÙŠØ©
        setInterval(updateStatus, 1000);
    </script>
</body>
</html>
